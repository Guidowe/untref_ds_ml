---
title: "Introducción a Tidyverse"
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: ["xaringan-themer.css", "ninjutsu"]
    nature:
      ratio: 16:10
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
editor_options: 
  chunk_output_type: console
---

```{r xaringan-themer, include = FALSE}
#devtools::install_github("gadenbuie/xaringanthemer")
library(xaringanthemer)
library(tidyverse)
library(xaringanthemer)

mono_light(
  base_color = "#1c5253",
  header_font_google = google_font("Josefin Sans"),
  text_font_google   = google_font("Montserrat", "300", "300i"),
  code_font_google   = google_font("Droid Mono")
  )
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = F, message = F)
knitr::opts_chunk$set(fig.height = 6, out.width = "100%", comment = " ", cache = T, dpi = 300)
options(scipen = 9999,
        max.print = 100)

source("https://raw.githubusercontent.com/EvaMaeRey/little_flipbooks_library/master/xaringan_reveal_parentheses_balanced.R")
```

class: middle, center

# ¿Qué es [Tidyverse](https://www.tidyverse.org/)?

---
class: middle, center

#### `Tidyverse` es una colección de paquetes de R, diseñados para la ciencia de datos. 
 
#### Todos los paquetes comparten una filosofía de diseño, gramática y estructuras de datos subyacentes.

```{r echo=FALSE, out.width = '60%', fig.align = 'center'}
knitr::include_graphics("img/tidyverse.png")
```

---
class: middle, center

## Caja de herramientas

* El objetivo principal de sus paquetes y funciones es la de proveer herramientas para facilitar las tareas típicas de la ciencia de datos:

```{r echo=FALSE, out.width = '110%', fig.align = 'center'}
knitr::include_graphics("img/circuito del dato.png")
```

---
class: middle, center

# ¿Por qué `tidyverse`?

---

### __¿Por qué tidyverse?__

<br><br>
<br>

- __Es más simple de leer y de escribir para seres humanos__

<br>

- __Sus paquetes y funciones tienen un esquema en común. Por ejemplo, el primer parámetro de cualquier función es siempre la base de datos -o data.frame-__

<br>

- __La comunidad, basada en los principios del codigo abierto y trabajo colaborativo__


---
### __Instalación y uso__

* Sólo una vez (por computadora):
```r
install.packages("tidyverse")
```

* En cada inicio de sesión de R o Rstudio:
```r
library(tidyverse)
```
 
--

_No es necesario esto:_

```r
install.packages("dplyr")
install.packages("tidyr")
install.packages("ggplot2")
```

--

_Ni esto:_
```r
library(dplyr)
library(tidyr)
library(ggplot2)
```

---
class: middle, center, inverse

```{r echo=FALSE, out.width = '50%', fig.align = 'center'}
knitr::include_graphics("img/logo dplyr.png")
```

<br>

---
## Funciones del paquete dplyr:

|Función |Acción |
| :--- | ---:   |
| `select()`    | *selecciona o descarta variables*|
| `filter()`    | *selecciona filas*|
| `mutate()`    | *crea nuevas variables*|
| `group_by()`  | *segmenta en funcion de una variable*|
| `summarize()` | *genera una tabla de resúmen*|
| `case_when()` | *se usa generalmente en `mutate()`, para recodificar*|
| `rename()`    | *renombra variables*|

---
class: middle, center

# __select()__
***
#### _Elije o descarta columnas de una base de datos_

---
### Función _`select()`_

<br>

- Por la positiva:
```r
select(base_de_datos, 
       columna1, columna2, columna...x)
```

<br>

- Por la negativa (`-`):
```r
select(base_de_datos, 
       -columna1, -columna2, -columna...x)
```

---
#### Función _`select()`_

Importemos una base de datos:
```{r}
base <- read.table(file = "../data/base_juguete_t3_16.txt", sep = "|")
```

```{r}
colnames(base)
```

---

```{r sel1, eval = F, echo = F}
base %>%
  select(CODUSU, ESTADO, CAT_OCUP, )
```

`r apply_reveal("sel1")`
